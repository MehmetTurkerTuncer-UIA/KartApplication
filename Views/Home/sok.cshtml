@model List<SakModel>

@{
    ViewData["Title"] = "Sok";
    Layout = "~/Views/Shared/_AccountLayout.cshtml";
}

<style>
    /* For sentrering av siden */
    body {
        display: flex;
        justify-content: center; /* Horisontal sentrering */
        align-items: center; /* Vertikal sentrering */
        min-height: 100vh; /* Fyll hele sidehøyden */
        margin: 0; /* Nullstill standard margin */
        font-family: Arial, sans-serif; /* Skriftstil */
    }

    /* Generell stil for container */
    .container {
        max-width: 1200px; /* Maks bredde 1200px */
        margin: 20px; /* Marg for innholdsområde */
        border: 1px solid #000; /* Rammefarge */
        padding: 20px; /* Innvendig avstand */
        display: flex; /* Flexbox layout */
        flex-direction: column; /* Vertikal retning */
        align-items: center; /* Sentrering av innhold */
        justify-content: center; /* Horisontal sentrering */
        height: 80vh; /* Juster høyden til containeren */
    }

    /* Stil for form og overskrifter */
    h2 {
        text-align: center; /* Sentrer overskrift */
        margin-bottom: 20px; /* Avstand til form */
    }

    form {
        text-align: center; /* Sentrer form */
        margin-bottom: 20px; /* Avstand til tabell */
    }

    /* Tabellstil */
    .tableForDetaljer {
        width: 100%;
        border-collapse: separate; /* Forhindre sammenslåing av kantlinjer */
        border-spacing: 0 0px; /* Avstand mellom rader */
        font-family: Arial, sans-serif;
        font-size: 16px;
        border: 1px solid #000000;
        margin-top: 20px; /* Avstand til innhold over tabellen */
    }

    /* Overskriftsceller i tabellen (th) */
    .tableForDetaljer th {
        background-color: #232323; /* Bakgrunnsfarge for overskrift */
        padding: 10px;
        text-align: center;
        position: relative; /* For å bruke pseudo-elementer */
        height: 34px; /* Radens høyde 34px */
    }

    /* Kort kantlinje for overskriftsceller */
    .tableForDetaljer th:after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        width: 1px; /* Kort vertikal kantlinje */
        background-color: #505050; /* Kantlinjefarge */
        height: 30%; /* Kantlinjehøyde som 30% av cellen */
        margin: auto 0;
    }

    /* Ingen kantlinje for siste overskriftscelle */
    .tableForDetaljer th:last-child:after {
        display: none; /* Skjul kantlinje for siste kolonne */
    }

    /* Dataceller i tabellen (td) */
    .tableForDetaljer td {
        padding: 10px;
        color: white; /* Tekstfarge hvit */
        background-color: #303030; /* Bakgrunnsfarge for rader */
        border-right: none; /* Fjern generell kantlinje */
        position: relative; /* For å bruke pseudo-elementer */
        height: 34px; /* Radens høyde 34px */
        text-align: center;
    }

    /* Kort kantlinje for dataceller */
    .tableForDetaljer td:after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        width: 1px; /* Kort vertikal kantlinje */
        background-color: #505050; /* Kantlinjefarge */
        height: 30%; /* Kantlinjehøyde som 30% av cellen */
        margin: auto 0;
    }

    /* Ingen kantlinje for siste datacelle */
    .tableForDetaljer td:last-child:after {
        display: none; /* Skjul kantlinje for siste kolonne */
    }

    /* Stil for rader og avstand mellom dem */
    .tableForDetaljer tbody tr {
        height: 34px; /* Radens høyde 34px */
    }

    /* Stil for resultatmelding */
    .result-message {
        margin-top: 20px; /* Avstand til toppen */
        text-align: center; /* Sentrer tekst */
        color: white; /* Tekstfarge */
    }
</style>

<div class="container">
    <h2>Søk med Referansenummer</h2>
    <form method="get" action="@Url.Action("Sok", "Home")">
        <label for="referenceNumber">Referansenummer:</label>
        <input type="text" id="referenceNumber" name="referenceNumber" required />
        <button type="submit">Søk</button>
    </form>

    @if (Model != null && Model.Any())
    {
        <div class="result-message">Referansenummer: <strong>@Model.First().Id</strong></div>
    }
    else
    {
        <div class="result-message">Ingen saker funnet med det oppgitte referansenummeret.</div>
    }

    <table class="tableForDetaljer" id="saksbehandlermenu">
        <thead>
            <tr>
                <th>Dato</th>
                <th>Sak Status</th>
                <th>Referansenummer</th>
                <th>Kontroll Status</th>
            </tr>
        </thead>
        <tbody id="saksbehandlersaks">
            @if (Model != null && Model.Any())
            {
                foreach (var sakModel in Model)
                {
                    <tr onclick="window.location.href='@Url.Action("Detaljer", "Saksbehandler", new { id = sakModel.Id })'" style="cursor: pointer;">
                        <td>@sakModel.CreatedAt.ToShortDateString()</td>
                        <td>@sakModel.Status.ToString()</td>
                        <td>@sakModel.Id</td>
                        <td>@sakModel.IsTemporary</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="4">Ingen saker funnet med det oppgitte referansenummeret.</td>
                </tr>
            }
        </tbody>
    </table>
</div>
